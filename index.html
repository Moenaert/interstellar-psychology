<!-- Doctor of Philosophy - Gilles Moenaert -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Interstellar Psychology</title>
<link rel="icon" type="image/png" href="../artefacts/favicon.png" />
<link rel="stylesheet" href="css/style.css">
<style>
  
</style>
</head>

<body>
  <div id="video-background"><div id="player"></div></div>
  <div id="matrix-text" class="matrix-text"></div>

  <div id="button-container">
  <div class="row1">
    <a class="trippy-button" href="phd/music/">Music</a>
    <a class="trippy-button" href="phd/psychedelics/">Psychedelics</a>
    <a class="trippy-button" href="phd/telepathy/">Telepathy</a>
    <a class="trippy-button" href="phd/mindsight/">Mindsight</a>
    <a class="trippy-button" href="phd/remote-viewing/">Remote Viewing</a>
  </div>

  <div class="row2">
    <a class="trippy-button" href="phd/out-of-body-experience/">Out of Body Experience</a>
    <a class="trippy-button" href="phd/non-human-intelligence/">Non Human Intelligence</a>
    <a class="trippy-button" href="phd/multiverse/">Multiverse</a>
    <a class="trippy-button" href="phd/infinity/">Infinity</a>
  </div>

  <div id="egg-container">
    <a id="easter-egg" class="trippy-button" href="phd/easter-egg/">ðŸ¥š Easter Egg</a>
    <button id="audio-toggle" class="trippy-button">ðŸŽµ Audio</button>
  </div>
</div>


  <audio id="myAudio" preload="auto">
    <source src="artefacts/interstellar.mp3" type="audio/mpeg" />
    Your browser does not support the audio element.
  </audio>

  <script>
    // Audio toggle logic
    document.addEventListener('DOMContentLoaded', function() {
      const audio = document.getElementById('myAudio');
      const toggleButton = document.getElementById('audio-toggle');
      if (!audio || !toggleButton) return;
      let isPlaying = false;
      audio.addEventListener('error', () => alert('Could not load audio file. Check the file path.'));
      audio.addEventListener('play', () => { isPlaying = true; toggleButton.textContent = 'Pause'; });
      audio.addEventListener('pause', () => { isPlaying = false; toggleButton.textContent = 'Play'; });
      toggleButton.addEventListener('click', () => { isPlaying ? audio.pause() : audio.play().catch(()=>alert('Tap the page once then try again.')); });
    });
  </script>

<!-- === YouTube Background Loader === -->
<script>
  // Detect mobile or touch-first device
  const prefersNoVideo =
    matchMedia('(max-width: 768px)').matches ||
    matchMedia('(pointer: coarse)').matches;

  if (!prefersNoVideo) {
    // Only load the YouTube API on desktop
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.head.appendChild(tag);
  }

  let player;

  // Called by YouTube API after it loads
  function onYouTubeIframeAPIReady() {
    if (prefersNoVideo) {
      const bg = document.getElementById('video-background');
      if (bg) bg.style.display = 'none';
      return;
    }

    player = new YT.Player('player', {
      videoId: '6ouG6L-2L3Q',
      playerVars: {
        autoplay: 1,
        controls: 0,
        mute: 1,
        loop: 1,
        playlist: '6ouG6L-2L3Q',
        showinfo: 0,
        modestbranding: 1,
        playsinline: 1
      },
      events: { 'onReady': onPlayerReady }
    });
  }

  function onPlayerReady(event) {
    const videoBackground = document.getElementById('video-background');
    if (videoBackground) videoBackground.classList.add('fade-in');
    event.target.mute();
    event.target.playVideo().catch(() => {});

    function resizeVideo() {
      const video = document.getElementById('player');
      const aspectRatio = 16 / 9;
      const windowRatio = window.innerWidth / window.innerHeight;
      if (windowRatio > aspectRatio) {
        video.style.width = '120vw';
        video.style.height = `${120 * windowRatio / aspectRatio}vw`;
      } else {
        video.style.width = `${120 * aspectRatio / windowRatio}vh`;
        video.style.height = '120vh';
      }
    }
    resizeVideo();
    window.addEventListener('resize', resizeVideo);
  }
</script>

<script>
  // Re-enable sequential fade-in for trippy buttons
  window.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('.trippy-button');
    buttons.forEach(btn => {
      // Force reflow for animation delay
      void btn.offsetWidth;
      btn.classList.add('fade-in');
    });
  });
</script>

<script>
// === Matrix Text Animation ===
const matrixText = document.getElementById('matrix-text');
function animateText() {
  const sequence = [
    { text: 'Wake up, Neo...', typeClass: 'typing-neo', deleteClass: 'deleting-neo', typeDuration: 3000, deleteDuration: 3690 }
  ];
  function displayWord(index) {
    if (index >= sequence.length) { setTimeout(animateText, 600); return; }
    const { text, typeClass, deleteClass, typeDuration, deleteDuration } = sequence[index];
    matrixText.textContent = text;
    matrixText.className = `matrix-text ${typeClass}`;
    setTimeout(() => {
      matrixText.className = `matrix-text ${deleteClass}`;
      setTimeout(() => displayWord(index + 1), deleteDuration);
    }, typeDuration);
  }
  displayWord(0);
}
setTimeout(animateText, 3900);
</script>


</body>
</html>
