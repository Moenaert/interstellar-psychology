<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Third Eye Awakenings</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    #video-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
      opacity: 0;
    }
    #player {
      width: 120vw;
      height: 120vh;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      min-width: 120%;
      min-height: 120%;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .fade-in {
      animation: fadeIn 2s ease-in forwards;
    }
    .matrix-text {
      position: absolute;
      top: 25%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1;
      font-family: 'Courier New', Courier, monospace;
      font-size: 2.5rem;
      color: #0f0; /* Matrix green */
      text-shadow: 0 0 10px #0f0, 0 0 20px #0f0;
      white-space: nowrap;
      overflow: hidden;
      width: 0;
      border-right: 3px solid #0f0;
    }
    .typing-exit {
      animation: typing-exit 2.25s steps(15, end) forwards, blink-caret 0.75s step-end infinite;
    }
    .deleting-exit {
      animation: deleting-exit 1.1s steps(15, end) forwards, blink-caret 0.75s step-end infinite;
    }
    .typing-believe {
      animation: typing-believe 1.1s steps(7, end) forwards, blink-caret 0.75s step-end infinite;
    }
    .deleting-believe {
      animation: deleting-believe 0.75s steps(7, end) forwards, blink-caret 0.75s step-end infinite;
    }
    .typing-love {
      animation: typing-love 0.75s steps(4, end) forwards, blink-caret 0.75s step-end infinite;
    }
    .deleting-love {
      animation: deleting-love 0.6s steps(4, end) forwards, blink-caret 0.75s step-end infinite;
    }
    .typing-truth {
      animation: typing-truth 0.9s steps(5, end) forwards, blink-caret 0.75s step-end infinite;
    }
    .deleting-truth {
      animation: deleting-truth 0.6s steps(5, end) forwards, blink-caret 0.75s step-end infinite;
    }
    @keyframes typing-exit {
      from { width: 0; }
      to { width: 16ch; }
    }
    @keyframes deleting-exit {
      from { width: 16ch; }
      to { width: 0; }
    }
    @keyframes typing-believe {
      from { width: 0; }
      to { width: 8ch; }
    }
    @keyframes deleting-believe {
      from { width: 8ch; }
      to { width: 0; }
    }
    @keyframes typing-love {
      from { width: 0; }
      to { width: 5ch; }
    }
    @keyframes deleting-love {
      from { width: 5ch; }
      to { width: 0; }
    }
    @keyframes typing-truth {
      from { width: 0; }
      to { width: 6ch; }
    }
    @keyframes deleting-truth {
      from { width: 6ch; }
      to { width: 0; }
    }
    @keyframes blink-caret {
      from, to { border-color: transparent; }
      50% { border-color: #0f0; }
    }
    .button-container {
      position: absolute;
      top: 35%;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }
    .trippy-button {
      background: linear-gradient(45deg, rgba(128, 0, 255, 0.3), rgba(0, 255, 255, 0.3));
      border: 2px solid #0ff;
      border-radius: 25px;
      padding: 10px 20px;
      font-family: 'Courier New', Courier, monospace;
      font-size: 1.2rem;
      color: #fff;
      text-shadow: 0 0 5px #0ff, 0 0 10px #0ff;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      text-align: center;
      text-decoration: none;
      min-width: 200px;
    }
    .trippy-button:hover {
      transform: scale(1.1);
      box-shadow: 0 0 15px #0ff, 0 0 30px #0ff;
      background: linear-gradient(45deg, rgba(128, 0, 255, 0.5), rgba(0, 255, 255, 0.5));
    }
    #audio-toggle {
        position: fixed;
        bottom: 20px;
        right: 20px;
        }
  </style>
</head>
<body>
  <div id="video-background">
    <div id="player"></div>
  </div>
  <div class="matrix-text" id="matrix-text"></div>
  <div class="button-container">
  <a href="#" class="trippy-button">Psychedelics</a>
  <a href="#" class="trippy-button">Telepathy</a>
  <a href="#" class="trippy-button">Remote viewing</a>
  <a href="mindsight.html" class="trippy-button">Mindsight</a>
  <a href="#" class="trippy-button">Near death experience</a>
  <a href="#" class="trippy-button">Out of body experience</a>
  <a href="#" class="trippy-button">Non human intelligence</a>
  <a href="#" class="trippy-button">Infinity</a>
</div>

<!-- move the audio button OUTSIDE of .button-container -->
<button id="audio-toggle" class="trippy-button">Play</button>
<audio id="myAudio" preload="auto">
    <source src="audio.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get references to the button and audio element
            const audio = document.getElementById('myAudio');
            const toggleButton = document.getElementById('audio-toggle');

            // Check if elements are found
            if (!audio || !toggleButton) {
                console.error('Audio or button element not found.');
                alert('Error: Could not find audio or button element.');
                return;
            }

            // Track playing state
            let isPlaying = false;

            // Event listener for audio load errors
            audio.onerror = function() {
                console.error('Error loading audio file:', audio.error);
                alert('Could not load audio file. Check the file path or format.');
            };

            // Event listeners for audio state changes
            audio.onplay = function() {
                isPlaying = true;
                toggleButton.textContent = 'Pause';
            };

            audio.onpause = function() {
                isPlaying = false;
                toggleButton.textContent = 'Play';
            };

            // Toggle function on button click
            toggleButton.addEventListener('click', function() {
                console.log('Button clicked, isPlaying:', isPlaying); // Debug log
                if (isPlaying) {
                    audio.pause();
                } else {
                    audio.play().catch(function(error) {
                        console.error('Error playing audio:', error);
                        alert('Could not play audio. Ensure the file is valid and try again after interacting with the page.');
                    });
                }
            });

            // Log audio load status for debugging
            audio.onloadeddata = function() {
                console.log('Audio file loaded successfully.');
            };
        });
    </script>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script>
    let player;
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        videoId: '6ouG6L-2L3Q',
        playerVars: {
          autoplay: 1,
          controls: 0,
          mute: 1,
          loop: 1,
          playlist: '6ouG6L-2L3Q',
          showinfo: 0,
          modestbranding: 1,
          playsinline: 1
        },
        events: { 'onReady': onPlayerReady }
      });
    }
    function onPlayerReady(event) {
      event.target.playVideo();
      const videoBackground = document.getElementById('video-background');
      videoBackground.classList.add('fade-in');
      function resizeVideo() {
        const video = document.getElementById('player');
        const aspectRatio = 16 / 9;
        const windowRatio = window.innerWidth / window.innerHeight;
        if (windowRatio > aspectRatio) {
          video.style.width = '120vw';
          video.style.height = `${120 * windowRatio / aspectRatio}vw`;
        } else {
          video.style.width = `${120 * aspectRatio / windowRatio}vh`;
          video.style.height = '120vh';
        }
      }
      resizeVideo();
      window.addEventListener('resize', resizeVideo);
    }

    // Text animation logic
    const matrixText = document.getElementById('matrix-text');
    function animateText() {
      matrixText.textContent = 'Exit the Matrix!';
      matrixText.className = 'matrix-text typing-exit';
      setTimeout(() => {
        matrixText.className = 'matrix-text deleting-exit';
        setTimeout(() => {
          matrixText.textContent = 'Believe';
          matrixText.className = 'matrix-text typing-believe';
          setTimeout(() => {
            matrixText.className = 'matrix-text deleting-believe';
            setTimeout(() => {
              matrixText.textContent = 'Love';
              matrixText.className = 'matrix-text typing-love';
              setTimeout(() => {
                matrixText.className = 'matrix-text deleting-love';
                setTimeout(() => {
                  matrixText.textContent = 'Truth';
                  matrixText.className = 'matrix-text typing-truth';
                  setTimeout(() => {
                    matrixText.className = 'matrix-text deleting-truth';
                    setTimeout(animateText, 600);
                  }, 900);
                }, 600);
              }, 750);
            }, 750);
          }, 1100);
        }, 1100);
      }, 2250);
    }
    setTimeout(animateText, 1000);
</script>
</body>
</html>